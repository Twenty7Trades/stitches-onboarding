{
  "projectName": "stitches-onboarding",
  "projectType": "Next.js",
  "urls": {
    "production": "https://main.d3t8wpufosawhp.amplifyapp.com/",
    "embed": "https://main.d3t8wpufosawhp.amplifyapp.com/embed",
    "admin": "https://main.d3t8wpufosawhp.amplifyapp.com/admin"
  },
  "credentials": {
    "adminEmail": {
      "location": "AWS Amplify Environment Variables",
      "note": "info@stitchesclothingco.com"
    },
    "smtp": {
      "location": "AWS Amplify Environment Variables",
      "note": "See AWS_AMPLIFY_SMTP_SETUP.md"
    }
  },
  "deployment": {
    "platform": "AWS Amplify",
    "appId": "d3t8wpufosawhp",
    "region": "us-east-1",
    "envLocation": "AWS Amplify Console > Environment Variables",
    "status": "Active"
  },
  "notes": [],
  "sessions": [
    {
      "date": "2025-11-07",
      "title": "Email System Implementation & Admin Panel Enhancements",
      "summary": "Fixed email notification system, updated admin panel with delete functionality, changed admin login credentials, and fixed timezone issues. All systems now fully operational.",
      "decisions": [
        "Use SMTP_USER as from address when SMTP_FROM doesn't match (Gmail requirement)",
        "Support multiple email recipients via comma/semicolon separated NOTIFICATION_EMAIL",
        "Set timezone to UTC-8 (Pacific Time) for all date displays",
        "Update admin email from sales@pixelprint.la to info@stitchesclothingco.com",
        "Remove default credentials display from login page for security"
      ],
      "files": [
        "src/app/api/submit-application/route.ts",
        "src/lib/db.ts",
        "src/lib/pdf-export.ts",
        "src/lib/date-utils.ts (new)",
        "src/app/api/admin/delete-customers/route.ts (new)",
        "src/app/api/test-email/route.ts (new)",
        "src/components/admin/SubmissionsList.tsx",
        "src/app/admin/page.tsx",
        "src/app/admin/login/page.tsx",
        "next.config.ts"
      ],
      "blockers": [
        "AWS Amplify build failures due to duplicate function declarations",
        "SMTP environment variables not accessible due to isBuildTime check blocking production connections",
        "Database connection returning null in production due to BUILD_TIME=true being set at runtime"
      ],
      "nextSteps": [
        "Update NOTIFICATION_EMAIL in AWS Amplify to include multiple recipients if needed",
        "Monitor email delivery for production submissions",
        "Test admin login with new credentials (info@stitchesclothingco.com)"
      ]
    }
  ],
  "deployments": [],
  "troubleshooting": [],
  "commands": [
    "npm run dev",
    "npm run build",
    "aws amplify list-jobs --app-id d3t8wpufosawhp --branch-name main --region us-east-1"
  ],
  "documentation": [
    {
      "title": "SMTP Setup",
      "path": "AWS_AMPLIFY_SMTP_SETUP.md"
    },
    {
      "title": "WordPress Integration",
      "path": "WORDPRESS_INTEGRATION.md"
    },
    {
      "title": "Local SMTP Setup",
      "path": "SMTP_SETUP.md"
    }
  ]
}
